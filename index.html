<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumineth Battle Scripture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #020617; 
            background-image: radial-gradient(circle at 50% 0%, #1e293b 0%, #020617 100%);
            color: #f8fafc;
            margin: 0;
            min-height: 100vh;
        }

        .rune-font { font-family: 'Cinzel', serif; }
        
        .glass-panel {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .active-card {
            border-color: #22d3ee;
            box-shadow: 0 0 30px rgba(34, 211, 238, 0.2);
            background: rgba(15, 23, 42, 0.9);
        }

        .enhanced-glow {
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.4);
        }

        /* Simboli Runici SVG personalizzati per stabilità */
        .rune-icon { fill: currentColor; width: 40px; height: 40px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Icone SVG integrate per evitare problemi di caricamento esterno
        const RuneIcons = {
            varinor: () => (
                <svg viewBox="0 0 24 24" className="rune-icon">
                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                </svg>
            ),
            entari: () => (
                <svg viewBox="0 0 24 24" className="rune-icon">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                </svg>
            ),
            ydriliqi: () => (
                <svg viewBox="0 0 24 24" className="rune-icon">
                    <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" />
                </svg>
            ),
            oreali: () => (
                <svg viewBox="0 0 24 24" className="rune-icon">
                    <path d="M17.7 7.7c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H5c-1.1 0-2 .9-2 2s.9 2 2 2h12.7c.5 0 .9-.4.9-.9s-.4-.9-.9-.9h-1.8c-.5 0-.9.4-.9.9s.4.9.9.9h1.8zM2 12.5c0 1.1.9 2 2 2h15.7c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H4c-1.1 0-2 .9-2 2zm17.7 3.8H4.3c-.5 0-.9.4-.9.9s.4.9.9.9h15.4c1.1 0 2-.9 2-2s-.9-2-2-2z" />
                </svg>
            )
        };

        const RUNES = [
            {
                id: 'varinor',
                name: 'Varinor',
                title: 'Runa della Forza',
                icon: 'varinor',
                color: 'text-amber-400',
                effect: 'Scegli fino a 2 unità Lumineth: +1 ai tiri per Correre e Caricare.',
                enhanced: [
                    { req: 'ydriliqi', text: 'Se Ydriliqi è attiva: +1 ai tiri per Ferire in mischia.' },
                    { req: 'oreali', text: 'Se Oreali è attiva: Possono Tirare/Caricare dopo Ritirata.' }
                ]
            },
            {
                id: 'entari',
                name: 'Entari',
                title: 'Runa della Guarigione',
                icon: 'entari',
                color: 'text-blue-400',
                effect: 'Fine turno: scegli un\'unità Lumineth e cura D3 ferite.',
                enhanced: [
                    { req: 'varinor', text: 'Se Varinor è attiva: Gli EROI curano invece D6 ferite.' }
                ]
            },
            {
                id: 'ydriliqi',
                name: 'Ydriliqi',
                title: 'Runa del Fiume',
                icon: 'ydriliqi',
                color: 'text-cyan-400',
                effect: 'Nemici entro 3" dalle tue unità: -1 ai tiri per Colpire.',
                enhanced: [
                    { req: 'entari', text: 'Se Entari è attiva: -1 anche ai tiri per Ferire nemici.' }
                ]
            },
            {
                id: 'oreali',
                name: 'Oreali',
                title: 'Runa del Vento',
                icon: 'oreali',
                color: 'text-emerald-400',
                effect: 'Attacchi a distanza contro unità Lumineth: -1 al tiro per Colpire.',
                enhanced: [
                    { req: 'ydriliqi', text: 'Se Ydriliqi è attiva: +3" alla caratteristica Movimento.' }
                ]
            }
        ];

        function App() {
            const [activeRunes, setActiveRunes] = useState([]);

            const toggleRune = (id) => {
                setActiveRunes(prev => 
                    prev.includes(id) ? prev.filter(r => r !== id) : [...prev, id]
                );
            };

            return (
                <div className="max-w-5xl mx-auto p-4 md:p-8">
                    <header className="mb-10 text-center md:text-left flex flex-col md:flex-row justify-between items-center gap-6 border-b border-white/10 pb-8">
                        <div>
                            <p className="text-cyan-500 font-bold tracking-[0.3em] text-[10px] uppercase mb-1">Faction Battle Trait</p>
                            <h1 className="rune-font text-5xl font-black text-white italic tracking-tighter">Depict Rune</h1>
                        </div>
                        <button 
                            onClick={() => setActiveRunes([])}
                            className="px-6 py-3 bg-slate-800 hover:bg-red-900/40 text-slate-300 text-xs font-black rounded-xl border border-white/10 transition-all uppercase tracking-widest flex items-center gap-2"
                        >
                            Reset Battle Scripture
                        </button>
                    </header>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {RUNES.map(rune => {
                            const isActive = activeRunes.includes(rune.id);
                            const IconComponent = RuneIcons[rune.icon];
                            
                            return (
                                <div 
                                    key={rune.id}
                                    onClick={() => toggleRune(rune.id)}
                                    className={`glass-panel rounded-[2rem] p-6 cursor-pointer relative overflow-hidden group ${isActive ? 'active-card' : 'hover:border-white/20'}`}
                                >
                                    {/* Sfondo decorativo per runa attiva */}
                                    {isActive && <div className={`absolute -top-24 -right-24 w-48 h-48 rounded-full blur-[80px] opacity-20 bg-cyan-400`}></div>}
                                    
                                    <div className="flex items-start justify-between mb-6 relative z-10">
                                        <div className="flex items-center gap-4">
                                            <div className={`p-4 rounded-2xl transition-all duration-500 ${isActive ? 'bg-cyan-500 text-white shadow-[0_0_20px_rgba(34,211,238,0.4)]' : 'bg-slate-800 text-slate-600'}`}>
                                                <IconComponent />
                                            </div>
                                            <div>
                                                <h3 className="rune-font text-2xl font-bold tracking-tight">{rune.name}</h3>
                                                <p className="text-[10px] font-black uppercase tracking-[0.2em] text-slate-500">{rune.title}</p>
                                            </div>
                                        </div>
                                        <div className={`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all ${isActive ? 'bg-cyan-500 border-cyan-400 scale-110' : 'border-slate-700'}`}>
                                            {isActive && <svg className="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" /></svg>}
                                        </div>
                                    </div>

                                    <div className="space-y-4 relative z-10">
                                        {/* Effetto Base */}
                                        <div className={`p-4 rounded-2xl border transition-all ${isActive ? 'bg-white/5 border-white/10' : 'bg-transparent border-white/5 opacity-40'}`}>
                                            <p className="text-sm leading-relaxed font-medium">
                                                {rune.effect}
                                            </p>
                                        </div>

                                        {/* Effetti Enhanced (Tabella condizionale) */}
                                        <div className="space-y-2">
                                            {rune.enhanced.map((enh, idx) => {
                                                const isEnhancedActive = activeRunes.includes(enh.req);
                                                return (
                                                    <div 
                                                        key={idx}
                                                        className={`text-[11px] p-4 rounded-xl border flex items-start gap-3 transition-all duration-500 ${isEnhancedActive ? 'bg-amber-500/10 border-amber-500/40 enhanced-glow' : 'bg-slate-900/30 border-transparent text-slate-700 opacity-60'}`}
                                                    >
                                                        <div className={`mt-0.5 shrink-0 ${isEnhancedActive ? 'text-amber-400' : 'text-slate-800'}`}>
                                                            <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                            </svg>
                                                        </div>
                                                        <p className="leading-tight font-semibold tracking-wide">{enh.text}</p>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {/* Stato di Riepilogo */}
                    <div className="mt-12 glass-panel p-8 rounded-[2.5rem] border-cyan-500/30 text-center animate-pulse-slow">
                        <h4 className="rune-font text-cyan-400 text-lg mb-4 uppercase tracking-[0.4em]">Battle Scripture Active</h4>
                        <div className="flex flex-wrap justify-center gap-3">
                            {activeRunes.length === 0 ? (
                                <span className="text-slate-600 italic font-medium">Nessuna runa incisa per questo round...</span>
                            ) : (
                                activeRunes.map(id => (
                                    <span key={id} className="px-6 py-2 bg-cyan-500 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-cyan-900/40 border border-cyan-300/30">
                                        {id}
                                    </span>
                                ))
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>  
